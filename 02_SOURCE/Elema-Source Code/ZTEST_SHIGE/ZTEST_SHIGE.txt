REPORT ZTEST_SHIGE .

PARAMETERS    : P_FILE   TYPE RLGRAP-FILENAME LOWER CASE
OBLIGATORY.

START-OF-SELECTION.

DATA:
L_STRFNAME      LIKE RLGRAP-FILENAME,
L_FPATH         LIKE RLGRAP-FILENAME,
FILENAME              LIKE SDBAH-ACTID,
KAKUTYOSI LIKE SDBAD-FUNCT,
PATH LIKE DBMSGORA-FILENAME.


CALL FUNCTION 'LIST_SPLIT_PATH'
EXPORTING
FILENAME = P_FILE
IMPORTING
PATHNAME = L_FPATH.

IF SY-SUBRC <> 0.
MESSAGE S400(Z1) WITH 'ERROR2'.
ENDIF.

PATH = P_FILE.

CALL FUNCTION 'SPLIT_FILENAME'
EXPORTING
LONG_FILENAME  = PATH
IMPORTING
PURE_FILENAME  = FILENAME
PURE_EXTENSION = KAKUTYOSI.

IF SY-SUBRC <> 0.
MESSAGE S400(Z1) WITH 'ERROR'.
ENDIF.

WRITE: /01 'ファイル名：', 20 FILENAME,
/01 '拡張子：',     20 KAKUTYOSI,
/01 'パス名：',     20 L_FPATH.

*  CALL FUNCTION 'SO_SPLIT_FILE_AND_PATH'
*       EXPORTING
*            FULL_NAME     = P_FILE
*       IMPORTING
*            STRIPPED_NAME = L_STRFNAME
*            FILE_PATH     = L_FPATH
*       EXCEPTIONS
*            X_ERROR       = 1
*            OTHERS        = 2.

*  IF SY-SUBRC <> 0.
*
*    MESSAGE S400(Z1) WITH 'ERROR'.
*  ENDIF.
*
*  WRITE: /01 'ファイル名：', L_STRFNAME,
*         /01 'パス名：', L_FPATH.
