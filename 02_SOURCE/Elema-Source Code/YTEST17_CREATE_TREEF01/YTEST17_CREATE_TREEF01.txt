*----------------------------------------------------------------------*
***INCLUDE YTEST17_CREATE_TREEF01 .
*----------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&      Form  CREATE_TREE
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM CREATE_TREE .

*éñåèì‡ï\ãy#ò¢éñåè#è€
DATA: EVENTS TYPE CNTL_SIMPLE_EVENTS,
EVENT1 TYPE CNTL_SIMPLE_EVENT.
*åöóßíËêßçTêß#è€
CREATE OBJECT WA_CUSTOM_CONTAINER
EXPORTING
CONTAINER_NAME = WA_CONTAINER.
*åöóß##è€
CREATE OBJECT WA_TREE
EXPORTING
PARENT
= WA_CUSTOM_CONTAINER
*    SHELLSYLE
NODE_SELECTION_MODE  = CL_GUI_SIMPLE_TREE=>NODE_SEL_MODE_SINGLE
.
IF SY-SUBRC <> 0.
* MESSAGE ID SY-MSGID TYPE SY-MSGTY NUMBER SY-MSGNO
*
*WITH SY-MSGV1 SY-MSGV2 SY-MSGV3 SY-MSGV4.
ENDIF.
*#énåöóßà»çëâ∆-> èÈés->èÈãÊ éO# ìI#
CLEAR NODE1.
*#ì_##éö
NODE1-NODE_KEY = 'çëâ∆'.
*ëÊàÍ#
CLEAR NODE1-RELATKEY.
CLEAR NODE1-RELATSHIP.
*ê•ï∂åè#
NODE1-HIDDEN = ''.
NODE1-DISABLED = ''.
NODE1-ISFOLDER = 'X'.
*ïs#ICON
CLEAR NODE1-N_IMAGE.
CLEAR NODE1-EXP_IMAGE.
CLEAR NODE1-EXPANDER.
NODE1-TEXT = 'íÜçë'.
APPEND NODE1 TO NODE_TABLE.
*ìÒ##ì_
CLEAR NODE1.

NODE1-NODE_KEY = 'èÈésñkãû'.
*è„##ån
NODE1-RELATKEY = 'çëâ∆'.
NODE1-RELATSHIP = CL_GUI_SIMPLE_TREE=>RELAT_LAST_CHILD.
NODE1-HIDDEN = ''.
NODE1-DISABLED = ''.
NODE1-ISFOLDER = 'X'.
CLEAR NODE1-N_IMAGE.
CLEAR NODE1-EXP_IMAGE.
CLEAR NODE1-EXPANDER.
NODE1-TEXT = 'ñkãû'.
APPEND NODE1 TO NODE_TABLE.
CLEAR NODE1.
NODE1-NODE_KEY = 'èÈésè„äC'.
NODE1-RELATKEY = 'çëâ∆'.
NODE1-RELATSHIP = CL_GUI_SIMPLE_TREE=>RELAT_LAST_CHILD.
NODE1-HIDDEN = ''.
NODE1-DISABLED = ''.
NODE1-ISFOLDER = 'X'.
CLEAR NODE1-N_IMAGE.
CLEAR NODE1-EXP_IMAGE.
CLEAR NODE1-EXPANDER.
NODE1-TEXT = 'è„äC'.
APPEND NODE1 TO NODE_TABLE.
CLEAR NODE1.
NODE1-NODE_KEY = 'KEY êíï∂ãÊ'.
NODE1-RELATKEY = 'èÈésñkãû'.
NODE1-RELATSHIP = CL_GUI_SIMPLE_TREE=>RELAT_LAST_CHILD.
NODE1-HIDDEN = ''.
NODE1-DISABLED = ''.
NODE1-ISFOLDER = ''.
*##ÅCâ¬#çsSHOWICON##
NODE1-N_IMAGE = '@9Y@'.
NODE1-EXP_IMAGE = '@9Y@'.
CLEAR NODE1-EXPANDER.
NODE1-TEXT = 'êíï∂ãÊ'.
APPEND NODE1 TO NODE_TABLE.
CLEAR NODE1.
NODE1-NODE_KEY = 'KEY êºèÈãÊ'.
NODE1-RELATKEY = 'èÈésñkãû'.
NODE1-RELATSHIP = CL_GUI_SIMPLE_TREE=>RELAT_LAST_CHILD.
NODE1-HIDDEN = ''.
NODE1-DISABLED = ''.
NODE1-ISFOLDER = ''.
NODE1-N_IMAGE = '@DF@'.
NODE1-EXP_IMAGE = '@DF@'.
CLEAR NODE1-EXPANDER.
NODE1-TEXT = 'êºèÈãÊ'.
APPEND NODE1 TO NODE_TABLE.
CLEAR NODE1.
NODE1-NODE_KEY = 'KEY #çsãÊ'.
NODE1-RELATKEY = 'èÈésè„äC'.
NODE1-RELATSHIP = CL_GUI_SIMPLE_TREE=>RELAT_LAST_CHILD.
NODE1-HIDDEN = ''.
NODE1-DISABLED = ''.
NODE1-ISFOLDER = ''.
NODE1-N_IMAGE = '@NL@'.
NODE1-EXP_IMAGE = '@NL@'.
CLEAR NODE1-EXPANDER.
NODE1-TEXT = '#çsãÊ'.
APPEND NODE1 TO NODE_TABLE.
*à¬è∆#ì_ì‡óeìYâ¡#ì_
CALL METHOD WA_TREE->ADD_NODES
EXPORTING
TABLE_STRUCTURE_NAME = 'MTREESNODE'
NODE_TABLE
= NODE_TABLE
.
IF SY-SUBRC <> 0.
* MESSAGE ID SY-MSGID TYPE SY-MSGTY NUMBER SY-MSGNO
*WITH SY-MSGV1 SY-MSGV2 SY-MSGV3 SY-MSGV4.
*
ENDIF.
*íË#ëo#éñåè
EVENT1-EVENTID = CL_GUI_SIMPLE_TREE=>EVENTID_NODE_DOUBLE_CLICK.
EVENT1-APPL_EVENT = 'X'.
APPEND EVENT1 TO EVENTS.
CALL METHOD WA_TREE->SET_REGISTERED_EVENTS
EXPORTING
EVENTS  = EVENTS
.
IF SY-SUBRC <> 0.
* MESSAGE ID SY-MSGID TYPE SY-MSGTY NUMBER SY-MSGNO
*WITH SY-MSGV1 SY-MSGV2 SY-MSGV3 SY-MSGV4.
*
ENDIF.
*è´õﬂíË#ìIëo#éñåèï™îzéä##è€
SET HANDLER G_APPLICATION->HANDLE_NODE_DOUBLE_CLICK FOR WA_TREE.
ENDFORM.
" CREATE_TREE
*ìYâ¡éñåèì‡ï\ENDFORM.                    " CREATE_TREE
