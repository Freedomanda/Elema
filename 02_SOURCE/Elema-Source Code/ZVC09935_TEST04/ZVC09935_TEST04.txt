REPORT ZVC09935_TEST04 .
TABLES:KNMT. "得意先/品目情報レコードデータテーブル
DATA W_MATNR TYPE MARA-MATNR.
SELECT-OPTIONS:
S_KUNNR FOR  KNMT-KUNNR. "受注先
PARAMETERS P_DATE type sy-datum.


START-OF-SELECTION.
SELECT * FROM KNMT WHERE KUNNR IN S_KUNNR.
CALL FUNCTION 'YK_GET_SMATN_FROM_MATWA'
EXPORTING
I_KAPPL       = 'V'
I_KSCHL       = 'Y001'
I_VKORG       = KNMT-VKORG
I_VTWEG       = KNMT-VTWEG
I_KUNAG       = KNMT-KUNNR
I_MATWA       = KNMT-MATNR
I_DATE        = P_DATE
IMPORTING
*       E_KONDD       =
E_SMATN       = W_MATNR
EXCEPTIONS
NO_GET        = 1
OTHERS        = 2
.
WRITE:/ SY-SUBRC,KNMT-KUNNR,KNMT-MATNR,W_MATNR.




ENDSELECT.
END-OF-SELECTION.
