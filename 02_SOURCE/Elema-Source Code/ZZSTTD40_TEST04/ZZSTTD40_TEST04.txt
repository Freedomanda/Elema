REPORT ZZSTTD40_TEST04 .
TABLES:VBUK,VBAK.
SELECT-OPTIONS:
S_GBSTK FOR VBUK-GBSTK,
S_ABSTK FOR VBUK-ABSTK,
S_LFSTK FOR VBUK-LFSTK,
S_LFGSK FOR VBUK-LFGSK,
S_CMGST FOR VBUK-CMGST,
S_SPSTG FOR VBUK-SPSTG,
S_COSTA FOR VBUK-COSTA.

START-OF-SELECTION.
SELECT VBUK~VBELN
VBUK~GBSTK
VBUK~ABSTK
VBUK~LFSTK
VBUK~LFGSK
VBUK~CMGST
VBUK~SPSTG
VBUK~COSTA
INTO (VBUK-VBELN, VBUK-GBSTK, VBUK-ABSTK,
VBUK-LFSTK, VBUK-LFGSK, VBUK-CMGST,
VBUK-SPSTG, VBUK-COSTA)
FROM VBUK
JOIN VBAK ON VBAK~VBELN = VBUK~VBELN
WHERE VBUK~GBSTK IN S_GBSTK
AND   VBUK~ABSTK IN S_ABSTK
AND   VBUK~LFSTK IN S_LFSTK
AND   VBUK~LFGSK IN S_LFGSK
AND   VBUK~CMGST IN S_CMGST
AND   VBUK~SPSTG IN S_SPSTG
AND   VBUK~COSTA IN S_COSTA
AND   VBAK~VBTYP =  'C'
AND   VBAK~AUART <> 'KA'.
WRITE:/ VBUK-VBELN,
'全処理=',VBUK-GBSTK,
'拒否=',VBUK-ABSTK,
'出荷=',VBUK-LFSTK,
'全出荷=',VBUK-LFGSK,
'与信=',VBUK-CMGST,
'全ブロック=',VBUK-SPSTG,
'確認=',VBUK-COSTA.
ENDSELECT.
END-OF-SELECTION.
