REPORT ZTEST_KURA1 .

TYPES:BEGIN OF T_TBL,
WERKS(4)  TYPE C,
MATNR(18) TYPE C,
MENGE(17) TYPE C,
LFDAT(10) TYPE C,
MSG(200)  TYPE C,
END OF T_TBL.
DATA:IT_TBL TYPE TABLE OF T_TBL,
WA_TBL TYPE T_TBL,
V_MENGE TYPE EBAN-MENGE,
V_LFDAT TYPE EBAN-LFDAT.

WA_TBL-WERKS = 'P001'.
WA_TBL-MATNR = 'MATERIAL0000000001'.
WA_TBL-MENGE = '1234567890.0'.
WA_TBL-LFDAT = '20100917'.
WA_TBL-MSG   = 'エラー①'.
APPEND WA_TBL TO IT_TBL.
WA_TBL-WERKS = 'P002'.
WA_TBL-MATNR = 'MATERIAL0000000002'.
WA_TBL-MENGE = '8888888888.0'.
WA_TBL-LFDAT = '20100918'.
WA_TBL-MSG   = 'エラー②'.
APPEND WA_TBL TO IT_TBL.
WA_TBL-WERKS = 'P003'.
WA_TBL-MATNR = 'MATERIAL0000000003'.
WA_TBL-MENGE = '9999999999.0'.
WA_TBL-LFDAT = '20100919'.
WA_TBL-MSG   = 'エラー③'.
APPEND WA_TBL TO IT_TBL.

LOOP AT IT_TBL INTO WA_TBL.
AT FIRST.
WRITE 001 '*** エラー対象一覧 ***'.
SKIP 1.
WRITE: /002 'プラント',
012 '品目コード',
044 '数量',
050 '納入期日',
062 'エラーメッセージ'.
ENDAT.

CLEAR:V_MENGE,V_LFDAT.
V_MENGE = WA_TBL-MENGE.
V_LFDAT = WA_TBL-LFDAT.
WRITE: /002 WA_TBL-WERKS,
012 WA_TBL-MATNR,
032 V_MENGE,
050 V_LFDAT,
062 WA_TBL-MSG.
ENDLOOP.
